{% extends "base.html" %}

{% block title %}{{ prefix }}{% endblock %}

{% block head %}
{% endblock %}

{% block content %}
<h1>Контроллер {{ prefix }}</h1>

<hr>
<h3>График включений</h3>
<br>
<table style="border-collapse:collapse;">
    <colgroup>
        <col>
        <col span="7">
    </colgroup>
    <thead class="graph-header">
        <tr class="graph">
            <th>Номер канала</th>
            <th colspan="24" style="width: 13% "><a href="{{prefix}}/monday">Понедельник</a></th>
            <th colspan="24" style="width: 13%"><a href="{{prefix}}/tuesday">Вторник</a></th>
            <th colspan="24" style="width: 13%"><a href="{{prefix}}/wednesday">Среда</a></th>
            <th colspan="24" style="width: 13%"><a href="{{prefix}}/thursday">Четверг</a></th>
            <th colspan="24" style="width: 13%"><a href="{{prefix}}/friday">Пятница</a></th>
            <th colspan="24" style="width: 13%"><a href="{{prefix}}/saturday">Суббота</a></th>
            <th colspan="24" style="width: 13%"><a href="{{prefix}}/sunday">Воскресенье</a></th>
        </tr>
    </thead>
    <tbody>
        {% for line in lines_week %}
            <tr {% if forloop.last %} style="border-bottom: 2px solid gray" {% endif %}>
                <th><a href="{% url 'channel' prefix forloop.counter %}">Канал {{ forloop.counter }}</a></th>
                {% for week in line %}
                    {% for h in week %}
                        {% if forloop.first %}
                            <th class="graph-left" {% if h == 1 %} style="background: green;" {% endif %}></th>
                        {% elif forloop.last %}
                            <th class="graph-right" {% if h == 1 %} style="background: green;" {% endif %}></th>
                        {% else %}
                            <th {% if h == 1 %} style="background: green;"{% endif %}></th>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}